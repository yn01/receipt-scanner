# OCR/AI API 比較調査

## エグゼクティブサマリー

領収書スキャンWebアプリにおけるAI/OCRの選択肢を調査。**日本語レシート対応**を重要要件として評価。

---

## 1. クラウドOCR/AI API

### 1.1 Google Cloud Vision API

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 優秀（50+言語、ひらがな・カタカナ・漢字対応） |
| 実行環境 | サーバーサイドのみ |
| 料金 | $1.50/1,000画像（月1,000枚まで無料） |
| 精度 | 95-98%（印字テキスト） |
| 構造化データ | ❌ テキスト＋座標のみ（パース処理が別途必要） |

### 1.2 AWS Textract

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 良好（AnalyzeExpense APIの日本語対応は限定的） |
| 実行環境 | サーバーサイドのみ |
| 料金 | テキスト検出: $1.50/1,000ページ、AnalyzeExpense: $50/1,000ページ |
| 精度 | 英語95%+、日本語85-90% |
| 構造化データ | ✅ AnalyzeExpense API（店名、日付、明細、合計、支払方法） |

### 1.3 Azure Document Intelligence

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 優秀（100+言語、日本語レシートモデルあり） |
| 実行環境 | サーバーサイドのみ |
| 料金 | OCR: $1.50/1,000ページ、レシートモデル: $10/1,000ページ |
| 精度 | 95%+（日本語レシート） |
| 構造化データ | ✅ プリビルトレシートモデル（店名、日時、明細、税、合計） |

### 1.4 OpenAI Vision API (GPT-4o)

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 優秀（文脈理解も含めて高精度） |
| 実行環境 | サーバーサイドのみ |
| 料金 | ~$0.002-0.005/画像（月1,000枚で$3程度） |
| 精度 | 88-93%（ハルシネーションリスクあり） |
| 構造化データ | ✅ 柔軟なJSON抽出（プロンプトで制御） |

### 1.5 Claude Vision API (Anthropic)

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 優秀 |
| 実行環境 | サーバーサイドのみ |
| 料金（Haiku） | ~$0.0005/画像（月1,000枚で$0.50） |
| 料金（Sonnet） | ~$0.005/画像（月1,000枚で$5） |
| 精度 | Haiku: 85-90%、Sonnet: 90-95% |
| 構造化データ | ✅ 柔軟なJSON抽出（GPT-4oよりハルシネーション少） |

---

## 2. オープンソースOCR

### 2.1 Tesseract.js

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 良好（追加言語ファイル10-20MB必要） |
| 実行環境 | ✅ **ブラウザ上（WASM）** / Node.js |
| 料金 | 無料 |
| 精度 | 70-85%（画像前処理が必要） |
| 処理速度 | ブラウザ: 5-15秒/枚 |
| 構造化データ | ❌ テキストのみ |

### 2.2 PaddleOCR

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 優秀（CJK言語に特化） |
| 実行環境 | サーバーサイドのみ（Python） |
| 料金 | 無料（サーバー費用のみ） |
| 精度 | 85-92% |
| 構造化データ | ❌ テキスト＋座標のみ |

### 2.3 EasyOCR

| 項目 | 内容 |
|------|------|
| 日本語対応 | ✅ 良好（80+言語対応） |
| 実行環境 | サーバーサイドのみ（Python/PyTorch） |
| 料金 | 無料（GPU推奨） |
| 精度 | 80-90% |
| 構造化データ | ❌ テキスト＋座標のみ |

---

## 3. 専用レシート解析API

| サービス | 日本語 | 料金/月 | 精度 | 構造化データ |
|----------|--------|---------|------|-------------|
| **Veryfi** | ✅ 良好 | $99〜（500枚） | 85-95% | ✅ 優秀（カテゴリ分類、不正検出あり） |
| **Mindee** | ⚠️ 限定的 | €49〜（1,000枚） | 75-85% | ✅ 良好 |
| **Taggun** | ⚠️ 限定的 | $49〜（1,000枚） | 不明 | ✅ 良好（英語中心） |

---

## 4. 総合比較表

| ソリューション | 日本語 | 環境 | コスト/1K枚 | 精度 | 構造化 | 統合難易度 |
|---------------|--------|------|------------|------|--------|-----------|
| Google Cloud Vision | ✅ | Server | $1.50 | 95-98% | ❌ | 易 |
| AWS Textract | ✅ | Server | $1.50-$50 | 85-95% | ✅ | 中 |
| Azure Doc Intelligence | ✅ | Server | $10 | 95%+ | ✅ | 易 |
| GPT-4o Vision | ✅ | Server | $3 | 88-93% | ✅ | 非常に易 |
| **Claude Haiku** | ✅ | Server | **$0.50** | 85-90% | ✅ | 非常に易 |
| Claude Sonnet | ✅ | Server | $5 | 90-95% | ✅ | 非常に易 |
| Tesseract.js | ✅ | **Client** | 無料 | 70-85% | ❌ | 中 |
| PaddleOCR | ✅ | Server | 無料* | 85-92% | ❌ | 難 |
| Veryfi | ✅ | Server | $50-200 | 85-95% | ✅ | 非常に易 |

---

## 5. 推奨アプローチ

### 最推奨: Claude Haiku + Azure フォールバック

```
ユーザーがレシート画像をアップロード
    ↓
Claude Haikuで構造化JSON抽出（$0.0005/枚）
    ↓
信頼度が低い場合 → Azure Document Intelligenceにフォールバック
    ↓
構造化データをユーザーに返却
```

**月1,000枚の場合: 約$2.50/月**

### プライバシー重視: Tesseract.js（ブラウザ内処理）
- コスト$0、データがサーバーに送られない
- 精度は70-85%と低め

### 高精度重視: Azure Document Intelligence
- 日本語レシートに特化したプリビルトモデル
- 95%+の精度
